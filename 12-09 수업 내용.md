### 12-09 수업 내용



533의 모듈 2(pdf2번) 고급적인

979 모듈 5 (pdf5번) 네트워크에 관한 기본적인



12/16 시험 (30문제정도)

* e-nce.kr (수업 안 빠지면 80점정도...) 

  [4차산업 선도인력] 빅데이터(딥러닝) 활용 AI 설계(C반)

* 60점 맞으면 재시험(완전히 새로운 문제 나옴)

(* 강사님이 16일 까지라 꼭 통과해야 ..., 

강사님 7시까지 보통 남아계시니 나머지 공부는 물어볼 수 )

시험은 상/중/하, 각 난이도마다 배점이 다름

시험은 4시반이나 5시 전후로 20~30전후로 가능

원래는 과제 3문제, 필답시험이 있고 과제도 있음 하지만 우리는 발표수업으로...

앞에 나와서 ppt만들고 발표 ... 데모도 , Azure portal 가서 다 해봐야함.

시간이 되면 금요일 오후 4시부터 진행할 수도 있음(시간관계상)



* 시간 오래걸리면 셋팅을, VM도 만들어 놓아야함

​      만들어진걸 설명해야함

​      2분정도 데모, 마지막에 전체 배웠던 내용을 복습할 수 있도록( ppt를 서로 공유할 예정임)

수행평가 학생제출내용(txt파일)중 하나 선택(2명정도는 중복될수 있음), 수업 외적인것을 추가하면 추가점수약간

마지막 질의응답 있을 수 있음(12-09 5:30쯤에 뭐할지 정한걸로)

7. azure web app은 워드프레스로 !

--------------------------------9:30시작-------------------------

Azure는 필요경력이 3년정도 (CCNA 네트워크 개념이있어야)

-CentOS 7 pdf 에서

# 네트워크란

2p) 스위치 라우터 , hub도 요세 잘 안씀 스위치를 씀

네트워크란 컴퓨터들을 연결하는 것.

(= 정보를 빠르게 교환하도록 해주는 것)

1. peer to peer

   (= 내가 client도 됐다 server도 됐다가 하는 것)

=> 모든 네트워크에 있는 컴퓨터가 동일한 레벨로 연결됨

기업의 사원들이 100명이상 이면 서버에 접속해야 함(너무 많으니까)

* 네트워크의 이점

  1) 하드웨어 공유(printer를 네트워크에 있는 컴퓨터들이 공유 가능) 

2. Client/Server

   작은기업(10댓명)

   1) Client=서비스를 요청하는 쪽(request)

   2) Server=서비스를 주는 쪽(response)

   server를 NOS라고 함

   FTP server, mail server, ERP 등

4p)

컴퓨터를 연결해주는 기기를 Switch라고 함

하나의 캐이블 연결을 해주는 곳을 Switch의 'Port' 라고 부름

12포트 24포트 등이 있음

그리고 이 Switch가 Router장비로 연결되어 있음

보통 Router는 포트가 많지 않은데 Switch는 많음, Router는 보통 비쌈, 이 Router를 Gateway라고 함.

여기까지를 Local-area networks(LAN)라고 함(Router까지를),

이걸 회사 네트워크라고 함

다른 회사와 Router끼리 연결됨, 전 세계네트워크가 Router로

연결되어 있음.

=> LAN을 Private 네트워크라고 함

Router를 벗어나면서 Wide-area networks(WAN)라고 한다

=> WAN을 Public 네트워크, 인터넷망 이라고 함.

ex) 구글에서 회사 까지 데이터가 오려면 Router를 항상 거치게 되어 있음. 

=> 외부 데이터가 반드시 거쳐야할 관문이 Gateway임

=>TCP/IP란  IP/ Subnet mask/ (Router IP 주소=)Gateway/  OOO 

만약 TCPIP에서 Gateway를 빼버리면 내부망에 있는 컴퓨터만 데이터를 보냄(외부로 보낼 수 업음), 기업의 보안이 높으면 이렇게 해서 외부로 데이트를 보낼 수가 없음

Gateway는 그 네트워크의 첫번째 혹은 마지막 IP를 넣음(보통 그렇다는거, 관리자가)

------------------------------------2교시--------------------------------

# Router

5p) 

하나의 회사 네트워크

밑에 스위치-컴퓨터, 그 다음 스위치2-컴퓨터 <-이런 식으로 연결됨

6)

OSI 7layer를 알아 두면 좋음 

https://ryusae.tistory.com/4(블로그정리)

Layer1 phisical 

Layer2 Data Link 

등등

정리 되어 있음 

Router장비는 Network layer에 있음

Data link 계층에 Switch가 있음

Physical layer에 케이블이 있음 

L4, L3, L7에 로드벨런서가 있음 

* OSI는 표준을 만드는 업체

(컴퓨터는 MAC linux, window등이 있는데 각각 다루는 Hardware들이

서로 소통하기 위한 표준을 만듬!)

​	원래는 다른 회사 장비와 protocol이 달라서 소통이 안되었음.

L7: 컴퓨터와 사용자가 대화하는 계층이 Layer7임

L6: 데이터를 보낼 때 암호화하고 압축하는 계층

L5: session은 연결설정 (보내는 쪽과 받는 쪽이)

L4: Transport는 전송해주는 계층(TCP는 신뢰성을 갖는 전송, UDP는 비신뢰성을 갖는 전송) 

TCP=데이터를 보내고 잘 받았는지 3번확인하는 전송(3way hand shake라고함)

이럴때 씀: 정확한 데이터값이 필요한 경우

UDP= 패킷이 잘 받았는지 확인하지 않음, 보내고 끝

이럴때 씀: 화상회의를 하거나 동영상 주고 받을 때, 데이터 픽셀 한 두개 날라가도 상관없음

L3: Network는 누구와 통신할지 목적지를 찾을 때 씀

L2: Data link 에서 실제 주소를 주고 받을 때 렌카드 고유번호(MAC address)가 필요 (ipconfig /all 에서 Physical address에 나와있음)

L1:

=>네트워크에 trouble shooting에서 어디에서 문제가 생기는지 파악해야함



# Encapsulation/ De- Encapsulation 

https://soul0.tistory.com/365(참고해보면 좋은 블로그)

7P) Encapsulation이란(=데이터를 보내는쪽에서 잘게 쪼게고 헤더를 붙혀서 전기신호로 바꿔서 보내는 과정)

ex)A에서 B로 데이터를 보낼 때 보내는 데이터가 1g라 하면

 Presentation에서 암호화 하고 압축함

Session은 연결 설정에서 데이터를 잘게 쪼게서 번호를 매김

transport잘게 쪼갠 데이터 앞에 헤더를 붙힘, 이 데이터는 TCP데이터!

network에서 헤더를 또 붙힘보내는사람ip와 받는사람 ip가 들어감

Datalink에서 또 헤더를 붙힘(MAC주소) 

Physical에서 전기신호로 흘려 보냄(LAN: 컴퓨터 신호를 Physical신호를 전기신호로 바꾸줌)

-받는 쪽에선 De-Encapsulation을 함

Physical로 받고

Datalink에서 헤더 제거

Network 헤더 제거

Transport에서 헤더 젝

Presentation에서 재조립함

Application에서 다시 보게함



p8)

A, P ,S layer까지는 Data frame이라고 함

transport에서 헤더를 붙힌 패킷을 segment(데이터덩어리)라고 한다

Network에서 segment에 헤드(보내는 IP,받는사람IP)를 붙힘 이거를 패킷이라고함(다 패킷임)

Data link에서 헤더(MAC주소)가 붙음 이것을 frame이라고함

이걸 전기신호로 보내는걸 Bits라고함

p9)

Router는 layer3의 장치

Switch는 layer2의 장치

switch장비가 router장비의 기능을 다 갖고있을수 있음 이 switch를 

L4 switch라고 함, 방화벽기능도 있고 router기능을 대체할 수도 있음

(대신 비쌈)

Application까지의 개념이 gateway

10p)

TCP/IP가 먼저 나오고 OSI가 나옴

A, P, S를 Application layer라고 함

제일 밑에 D,, P 를 Network Interface라고함

=> 나중에 표준이 만들면서 Application을 3종류로, NI를 2종류로 나눔

=> 대부분 인터넷 서비스가 TCP/IP로 되어있고 각각의 port들(21,23 등)

### IP address: 인터넷 상에서 목적지를 찾는 주소 체계(A~Cclass까지만쓴다)(약 43억개), 32Bit로 구성   8.8.8.8      8bit=옥텟



-IP는 v4(32bit), v6(128bit)로 되어 있음

1bit는 2^1 로 2가지를 표현가능, 2bit는 2^2 가지를 표현 가능

32bit는 2^32 약 42억9천개의 ip를 만들 수 있음

(앞으로 집에있는 모든 전자 기기도 원격 제어를 하기 때문에 IP가 많이 필요)

128bit는 2^128 약 340 언데실리온

11111111(2)=255

Ethernet 속성에서 8비트이기 때문에 가장 큰 255까지만 들어감

(4개의 옥텟으로 구성됨)

533e_02pdf의 11p) overview of load balancers

Load balancer= 부하 분산장치

ex) load balancer가 있고 밑에 VM들이 있음

첫 번재 Client가 접속하면 첫 번째 VM에, 나머지도 같은 방식으로 분산해서 LB가 Client의 분산으로 부하 막아줌

Scale VM은 하나의  VM이 복사 되어서 부하를 막아줌

Azure Load Balancer(Laye4)의 장치:

VM에 적용함, Basic SKU는 처리해야할 VM이 100 정도일 때, Standard는 1000개 VM을 처리

Layer4 LB는 하나의 Data center내에 있는 VM들만 부하분산 처리 가능

Application Gateway이나 Traffic Manager는 Data center간에 부하분산처리가 가능함!

Traffic Manager는 Domain들어왔을때 부하분산 처리를함(DNSbased)

--------------3교시-------------





복습: Network ID(ISP,internet service provider에서부여됨)(=우편번호,회사) + Host ID(각회사 네트워크 관리자가 부여)(=번지, 회사내의 각각 장치)

Subnet Mask : Network Id를 식별



A Class:       N.H.H.H      255.0.0.0

(첫번째   

bit가

0으로고정)

​                   0

​				   0

 ex)  첫 번째 bit가 고정  (밑줄이 Network)

​         <u>00000000</u>,00000000,00000000,00000000  1.0.0.0

​         <u>01111111</u>,11111111,11111111,11111111  126.255.255.255

​         Network 수 :  앞에 7자리(0은고정이니까)에서 2^7개, 맨앞0과 맨뒤127은 빼야해서(Aclass만) 2개 빼서 126(=2^2-2), A class 중 특별한 network

* 0: 네트워크 식별할 때 사용

* 127: IPv4 Loopback IP ( 모든 컴퓨터에 셋팅되어 있음), Localhost

    - Test용으로 사용, 예 Web Server(web server를 구동하려면 반드시 IP가 있어야함)

      IPv6 Loopback IP ( ::1)

​         Host 수 : 2^24 -2=16,777,214  ( Host는 항상 2를 빼줌)

(=>하나의 Router에서 Network를 부여 받아서 host를 2^24-2개 만들 수 있음)

Encapsul을 했다 다시 돌아오는 IP를 LoopbackIP 라고 함.

B Class:       N.N.H.H      255.255.0.0

​        두 번째 bit까지가 고정

​		<u>10000000,00000000</u>,00000000,00000000   128.0.0.0

​		<u>10111111,11111111</u>,11111111,11111111    191.255.255.255

​        Network 수 : 앞에 두 자리가 고정이므로 2^14=16,384

​         Host 수 : 2^16-2=65,534

C Class:       N.N.N.H      255.255.255.0

 ㄴ> 3의 옥텟이 networkID,하나만 hostID

​       세 번째 bit까지가 고정

​    	<u>11000000.00000000,00000000</u>,00000000    192.0.0.0

​		<u>11011111,11111111,11111111</u>,11111111     223.255.255.255

​        Network 수 : 2^21=2,097,152

​         Host 수 : 2^8-2=256-2=254

 여기까지는 목적지를 찾기 위해 쓰는 IP

============================================

Host의 모든 값이 0인 경우: Network ID를 식별

Host의 모든 값이 1인 경우: Broadcast IP (Broadcast Data전송시 사용)

D Class : 멀티 캐스트 데이터 전송시 사용  224.0.0.0~239.255.255.255

E Class : 예약IP(만약의사태에 대비하기 위해), 군사용(최고기술들은 전쟁용으로 쓰임)



데이터 전송 방식:

- Unicast :  1:1 통신
- Multicast : 1:그룹 통신
- Broadcast : 1:모든 통신 (라우터 까지)

-패킷에는 3개의 헤더가 있음 (source보내는 사람 ip, destination받는사람 ip:A~Cclass ip)

-Multicast는 예를들어 유튜브나 방송과 같은 통신을 할 때 multicast통신을 하게 됨 

ex: A가 방송을 함-> Client가 많이 붙음-> A방송에 10000명이 볼 경우 각각의 컴퓨터와 1:1 통신을 하면 A컴퓨터가 다운이됨->그래서 하나로 보내면서 만명에게 뿌리게 됨=>이거를 multicast라고 함!

이러면 A컴퓨터에서는 한 번만 보내서 부하가 덜 오게 됨.

보내는 사람 ip에 broadcast ip가 들어감

=> broadcast 통신는 그  Router안에 있는 모든 컴퓨터 보내는 방식

(Router안에 까지만) -> broadcast data는 무조건 받아서 CPU까지 올리고 처리함, 라우터 안에있는 모든 LAN에서 일단 받지만 데이터를 discard시킴

(이부분 질문 해석)

-A에서 HUB로 받고 연결된 모든 port로 데이터를 뿌림(블로딩)

그리고 B라는 주소만 받음 (자기 mac주소만 있는 B만 받음)

-Switch도 마찬가지임

Broadcast가 많이 발생이되면 이유없이 CPU가 막 올라감(일단 받아서 처리는 하니까...)

=> Broadcast는 Router를 넘어갈 수가 없음 

=> Broadcast Domain라고 함->Router까지만 Broadcast Domain이라고 부름

따라서, 한 네트워크를 router장비로 약 1000대 이하로만 broadcast를 구성!

 

CIDR(Classless Inter-Domain Routing) 표기법: Class로 IP를 부여해 줄 경우 IP낭비가 굉장히 심하다. 그래서 IP낭비를 맊기 위해 2진법으로 표시하기 위해 쓰는 표기법

​			Class  : 10진법으로 표기

​     		CIDR : 2진법으로 표기

​							192.168.10.0/24                     192.168.10.0/25

* ex) IP 가2,000개 정도 필요(=>B class면 65000를 받아서 63000개를 낭비하게 됨)

  ​		=> IP를 2진법으로 표기

​               =>  192.168.10.0/24                     192.168.10.0/25

​                      (뒤에는 subnet mask인데 첫 번재 비트 부터 1이 24개 들어가서 255.255.255가 됨)

​                      (이거를 /24로 표기함, 영기서 Subnet Mask는 앞에서부터 1이 들어가는 갯수를 표기)

​                     (/25는 255.255.255.128)

​                     ex) /26 -> 11111111.1111111111.11111111.1100000

​                                            255.             255.             255.        192

​                                      첫 번째 bit부터 1들어가는 곳 까지가network ID

​                                     0이 들어가는 곳이 Host ID (2^6-2=62개)

​                          2000개의 Host가 필요할때 알맞은 Subnet Mask를 CIDR표기법으로 표기하세요.

​                             	 		/21 bit가 들어간 SubnetMask는 10진법으로 255.255.248.0

​                                         => 21bit 까지를 Network로 보면 Host가 2^11=2048개로 구성 됨. 

*  IP와 SubnetMask를 알았을 때 정보들을 알아낼 수 있어야함

  ex) 192.168.10.50/24                                   <== 이렇게 표기하는걸 CIDR 표기법

  calc) 192.168.10.50  binary 하면 -> 

    1100000.10101000.00001010.00110010

    1111111.11111111.11111111.00000000	(AND 연산)

  ===========================================

    1100000.10101000.00001010.00000000  <- IP와 SubnetMask를 AND연산해서 Network IP를 찾음! (SubnetMask는 1이 들어간 곳 까지가 Network ID를 찾고 0인 곳이 Host IP니까)

   1100000.10101000.00001010.111111111 <- Broadcast

   			Network IP :  192.168.10.0                    

  ​		     Broadcast IP :  192.168.10.255                

  ​             Host IP 범위 : 192.168.10.1 ~ 192.168.10.254 까지

  ​             Subnet Mask : 255.255.255.0 

  

  문제1) 192.168.10.130/25

  풀이) 11000000.10101000.00001010.10000010

  ​          11111111.11111111.11111111.10000000   (AND 연산)

  ​         ========================================

  ​         11000000.10101000.00001010.10000000

  ​             Network IP :  192.168.10.128

  ​		     Broadcast IP : 192.168.10.255

  ​             Host IP 범위 : 192.168.10.129 ~ 192.168.10.254

  ​		     Subnet Mask : 255.255.255.128

  ​             Host 수  : 126개 (= 2^7-2 )

  문제2) 172.16.20.10/17 

  풀이)   10101100.00010000.00010100.00001010

  ​            11111111.11111111.10000000.00000000   (AND 연산)

  ​            =========================================

  ​            10101100.00010000.00000000.00000000

  ​             Network IP : 172.16.0.0

  ​		     Broadcast IP :172.16.127.255 

  ​             Host IP 범위 : 172.16.0.1 ~ 172.16.127.254

  ​			 Subnet Mask : 255.255.128.0

  ​             Host 수  :  2^15-2 = 32,766

11p) IP에 대해서 먼저 숙지 되어야함

----------------------------------------2시 이후 수업------------------------------------

https://www.microsoftazuresponsorships.com/Balance 

여기서 Microsoft Azure 얼마나 썼는지 남았는지 알 수 있음

위에 연습문제 풀이

--------------------------------------3시 이후 수업----------------------------------------

Subnetting: ISP에서 부여 받은 네트워크 ID로 더 작은 Sub Network로 분활하여 사용

<문제> ISP에서 192.168.20.0/24 를 부여 받았다. 2개의 Sub Network로 분할 하세요.

 해결)    <u>192.168.20</u>.0 가 Network 나머지가 Host IP

예를들어 인사부와 총무부로 분할하려고함(하나의 라우터에서 분할하려고 함, 보안문제로)

​             192.168.20.0

​                                  00000000 /  25

​                                  10000000 / 25         <--------------24에서 앞에 0,1을 추가해주고 25로 바꾸고 Host주소를 바꿈

​            192.168.20.0 / 25    

​         Host IP 범위: 192.168.20.1 ~ 192.168.20.126                   

​            192.168.20.128 / 25

​          Host IP 범위: 192.168.20.129 ~ 192.168.20.254

<문제> ISP에서 172.16.0.0 / 16 를 부여 받았다. 4개의 Sub Network로 분할 하세요.

해결)  

​        172.16.0.0 / 18

<u>10101100.000010000</u>.00000000.00000000 / 18

<u>10101100.000010000</u>.10000000.00000000 /18

<u>10101100.000010000</u>.01000000.00000000 / 18

<u>10101100.000010000</u>.11000000.00000000 / 18



 (경계)                 172.16.0.0/18 

​                            172.16.128.0/18

​                            172.16.64.0/18

​                            172.16.192.0/18

   =>(HostIP범위)172.16.0.1 ~ 172.16.63.254

​                            172.16.128.1 ~ 172.16.191.254

​                            172.16.64.1 ~ 172.16.127.254

​                            172.16.192.1 ~ 172.16.255.254

(오답풀이: 경계를 먼저 잘 구해야함, 경계 구하고 경계 앞뒤로 한개씩은 빼고 세야함)



<문제> ISP에서 172.16.192.0 / 18 을 부여 받았다. 4개의 Sub Network로 분할 하세요.

 해설)

172.16.192.0 / 20

<u>10101100.000100</u><u>00.11</u>000000.00000000 / 20

<u>10101100.000100</u><u>00.11</u>010000.00000000 / 20

<u>10101100.000100</u><u>00.11</u>100000.00000000 / 20

<u>10101100.000100</u><u>00.11</u>110000.00000000 / 20

(경계)                  172.16.192.0 / 20

​                            172.16.208.0 / 20

​                            172.16.224.0 / 20

​                            172.16.240.0 / 20

=>(Host IP 범위) 172.16.192.1 ~ 172.16.207.254

​                             172. 16.208.0 ~ 172.16.223.254

​                             172. 16.224.0 ~ 172.16.239.254

​                             172. 16.240.0 ~ 172.16.255.254



-----------------------------------4시이후-----------------------------------

위에 문제 풀이 후 

VLSM(= Variable-Length Subnet Mask) : Host 수에 따라 subnetting, Subnet Mask값이 각각 다르게 부여됨. 

[Router라는 장비가 Network를 쪼개주고 각 port하나가 하나의 LAN을 형성. LAN이 Broadcast Domain이 됨. Router 장비 port에 Subnetmark크기에따라 네트워크 조절가능]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            

-반드시 많은 수를 먼저 Subnetting(주의)         

- 192.168.10.0 / 24 (ISP로부터부여받음) 아래와 같이 VLSM으로 Subnetting 하세요.

  (인사부 : 100, 관리부 : 60, 영업부 30, 제조부 : 50)   

​        => 인사부, 관리부, 제조부, 영업부 순서로 나눠야함!!!!

(풀 때 서브넷 마스크가 몇개 필요한지 예를들어 1.인사부는 100개 이상이니 128인 7자리가 필요함 따라서 서브넷마스크가 32-7인 25임! 밑에는 한 개 더 필요해서 26됨)

    1. 인사부(126=2^7-2) : 192.168.10.0 / 25    -> 192.168.10.1 ~ 192.168.10.126 (Host수:2^7-2=126개,26은 그냥 남는 IP)
       2. 관리부(62=2^6-2) : 192.168.10.128 / 26 -> 192.168.10.129~ 192.168.10.190 ( = 255-64=10111111(2진법))  

3. 제조부() : 192.168.10.192 / 27  -> 192.168.10.193 ~ 132.168.10.255 

    => 255까지 써버려써 문제오류인 상태 ! 제조부를 줄여서 맞추기로!

영업부를 10, 제조부 30 로 조정!

​        => 제조부(2^5-2=30개) : 192.168.10.192 / 27  -> 192.168.10.193 ~ 192.168.10.222

 (192.168.10.223은 Broadcast니까 뺴고)

​        => 2^5-2=30개

4. 영업부 : 192.168.10.224 / 28 ( 16bit만 필요하니까 4자리뺀 28)  

​                      192.168.10.239 ~ 192.168.10.238(마지막 239는 Broadcast)  

​        => 2^4-2=14  

979 mod 5 pdf p4)

### what are Azure virtual networks? 

-vNET 안에 Subnet, Subnet 있음 ( 일반적으로 Subnet끼리 통신하려면 Router장비가 있어야 함)

-Azure 한 Vnet 내에 여러개의 Subnet을 만들 수 있는데 Router가 없어도 가능하다!

(Router를 두고 할 수도 있다, 없어도 가능하단 뜻임, 여러 관리부서에 따라 access를 가능하게 할 수 있음)

-Azure에서 주는 Domain써도 되고 회사꺼 써도 됨

NSG에서 TCP,UDP,ICMP지원됨

-하나의 Vnet 내에 Subnet이 한 개는 있어야함(여러개가 있을 수도 있다)

-Vnet에 할당되는 IP는 공인IP,사설IP를 쓸 수 있는데 실제로 공인IP를 쓰려면 MS에 공인IP를 사야함. 일반적으로 사설 IP씀

 오타수정: (시험에 다음중 사설 IP가 아닌 것은? 이라고 물을 수도 있음)

* Private:

​      Based on RFC 1918: 

​             *  172.16.0.0 ~ 172.32(16x).255.255

-Azure ortal에서 VM 만들면서 네트워크에 subnetmask를 16로 줌

Subnet name은 ssubnet1,2,3 이고 주소 범위를 지정(10.10.1.0/24~10.10.3.0/24)

=> 하나의 Vnet 내에 있는 Subnet1,2,3 끼리는 서로 자동으로 통신이됨!

5p)

맨밑에

* 서비스에 접근할 수 있는 service를 지원해주는 기능이 있음

* 이런 서비스들과는 통합되지 않는다.(Azure AD 등)



12-16 (월) Storage 발표 

참고자료1 https://docs.microsoft.com/ko-kr/azure/storage/















































































































